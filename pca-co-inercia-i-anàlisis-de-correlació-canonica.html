<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítol 6 PCA, co-inercia i anàlisis de correlació canonica | Preprocesat de dades densitometria i ecocardiograma</title>
  <meta name="description" content="Capítol 6 PCA, co-inercia i anàlisis de correlació canonica | Preprocesat de dades densitometria i ecocardiograma" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítol 6 PCA, co-inercia i anàlisis de correlació canonica | Preprocesat de dades densitometria i ecocardiograma" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítol 6 PCA, co-inercia i anàlisis de correlació canonica | Preprocesat de dades densitometria i ecocardiograma" />
  
  
  

<meta name="author" content="Júlia Cano" />


<meta name="date" content="2024-03-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualizació-de-dades-longitudinals.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="visualització-i-depurat-de-dades.html"><a href="visualització-i-depurat-de-dades.html"><i class="fa fa-check"></i><b>1</b> Visualització i depurat de dades</a>
<ul>
<li class="chapter" data-level="1.1" data-path="visualització-i-depurat-de-dades.html"><a href="visualització-i-depurat-de-dades.html#ecocardiograma"><i class="fa fa-check"></i><b>1.1</b> Ecocardiograma</a></li>
<li class="chapter" data-level="1.2" data-path="visualització-i-depurat-de-dades.html"><a href="visualització-i-depurat-de-dades.html#densitometria"><i class="fa fa-check"></i><b>1.2</b> Densitometria</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="outliers.html"><a href="outliers.html"><i class="fa fa-check"></i><b>2</b> Outliers</a>
<ul>
<li class="chapter" data-level="2.1" data-path="outliers.html"><a href="outliers.html#densitometria-1"><i class="fa fa-check"></i><b>2.1</b> Densitometria</a></li>
<li class="chapter" data-level="2.2" data-path="outliers.html"><a href="outliers.html#ecocardiograma-1"><i class="fa fa-check"></i><b>2.2</b> Ecocardiograma</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="missings.html"><a href="missings.html"><i class="fa fa-check"></i><b>3</b> Missings</a>
<ul>
<li class="chapter" data-level="3.1" data-path="missings.html"><a href="missings.html#imputació-multiple"><i class="fa fa-check"></i><b>3.1</b> Imputació multiple</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="descriptiva.html"><a href="descriptiva.html"><i class="fa fa-check"></i><b>4</b> Descriptiva</a>
<ul>
<li class="chapter" data-level="4.1" data-path="descriptiva.html"><a href="descriptiva.html#visió-general"><i class="fa fa-check"></i><b>4.1</b> Visió general</a></li>
<li class="chapter" data-level="4.2" data-path="descriptiva.html"><a href="descriptiva.html#descriptiva-de-les-variables-de-densitometriaecocardiogramas-per-sexe-esport-any-i-edat"><i class="fa fa-check"></i><b>4.2</b> Descriptiva de les variables de densitometria/ecocardiogramas per sexe, esport, any i edat</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualizació-de-dades-longitudinals.html"><a href="visualizació-de-dades-longitudinals.html"><i class="fa fa-check"></i><b>5</b> Visualizació de dades longitudinals</a></li>
<li class="chapter" data-level="6" data-path="pca-co-inercia-i-anàlisis-de-correlació-canonica.html"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html"><i class="fa fa-check"></i><b>6</b> PCA, co-inercia i anàlisis de correlació canonica</a>
<ul>
<li class="chapter" data-level="6.1" data-path="pca-co-inercia-i-anàlisis-de-correlació-canonica.html"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#anàlisis-de-components-principalspca"><i class="fa fa-check"></i><b>6.1</b> Anàlisis de Components Principals(PCA)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="pca-co-inercia-i-anàlisis-de-correlació-canonica.html"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#representació-gràfica-pca"><i class="fa fa-check"></i><b>6.1.1</b> Representació gràfica PCA</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="pca-co-inercia-i-anàlisis-de-correlació-canonica.html"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#anàlisis-de-correlació-canònica"><i class="fa fa-check"></i><b>6.2</b> Anàlisis de correlació canònica</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Preprocesat de dades densitometria i ecocardiograma</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pca-co-inercia-i-anàlisis-de-correlació-canonica" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Capítol  6</span> PCA, co-inercia i anàlisis de correlació canonica<a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#pca-co-inercia-i-anàlisis-de-correlació-canonica" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="anàlisis-de-components-principalspca" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Anàlisis de Components Principals(PCA)<a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#anàlisis-de-components-principalspca" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Començarem amb un exemple a la base de dades d’ecocardiogrames que conté informació sobre l’estructura del cor (variables) sobre diferents esportistes d’elit durant els anys (id). De moment ho farem només amb la primera base de dades, més endavant ho farem amb la de densitometries.</p>
<p>L’anàlisi de components principals (PCA) pot ser utilitzada per a identificar patrons i agrupacions en un conjunt de dades. En el nostre cas patrons en les característiques del cor i agrupar persones en funció de la similitud de les dades de l’electrocardiograma. La tècnica consisteix a reduir la dimensionalitat de les dades a través de la transformació en un espai de components principals. Començarem amb les dues primeres components principals, que normalment capturen la major part de la variabilitat de les dades originals i les representarem gràficament per a facilitar la visualització de patrons i agrupaments.</p>
<p>Aquesta tècnica pot ser usada com a pas previ a l’aplicació d’anàlisis de clustering, que permeten agrupar les dades en funció de la seva similitud. L’ús del PCA per a la reducció de la dimensionalitat pot facilitar la interpretació dels resultats del clustering i la identificació de característiques discriminants entre els grups.</p>
<p>Observació: Com que PCA només es pot aplicar a dades numèriques, passarem les categòriques a numèriques. A més l’estandardització de les dades i l’eliminació de valors atípics serà important.</p>
<p>A més només té en compte combinacions lineals de les variables originals. Per tant, si les nostres variables estan relacionades, però no de forma lineal no anirà bé.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb1-1" tabindex="-1"></a>dfeco <span class="ot">&lt;-</span> dfpreeco <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span> (<span class="sc">-</span><span class="fu">c</span>(Id, Prova, row, Data_eco)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>( <span class="at">Seccio =</span> <span class="fu">as.double</span>(<span class="fu">as.factor</span>(Seccio)), <span class="fu">across</span>(<span class="fu">everything</span>(), as.double))</span>
<span id="cb1-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb1-2" tabindex="-1"></a>dfdensi <span class="ot">&lt;-</span> dfpredensi <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span> (<span class="sc">-</span><span class="fu">c</span>(Id, Prova, Data_densi)) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">Seccio =</span> <span class="fu">as.double</span>(<span class="fu">as.factor</span>(Seccio)), <span class="fu">across</span>(<span class="fu">everything</span>(), as.double))</span></code></pre></div>
<p>Hi han variables que tenen la variància molt més alta que altres, ho visualitzem:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-1" tabindex="-1"></a>var <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> dfeco, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">var</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb2-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-2" tabindex="-1"></a>df_var <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">variable =</span> <span class="fu">names</span>(dfeco), <span class="at">varianza =</span> var)</span>
<span id="cb2-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_var, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(variable, <span class="sc">-</span>varianza), <span class="at">y =</span> varianza)) <span class="sc">+</span></span>
<span id="cb2-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-5" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb2-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-6" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-7" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Variables&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Varianza&quot;</span>)<span class="sc">+</span></span>
<span id="cb2-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb2-9" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-6-1.png" alt="Variància ecocardiograma" width="672" />
<p class="caption">
Figure 6.1: Variància ecocardiograma
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-1" tabindex="-1"></a>var <span class="ot">&lt;-</span> <span class="fu">apply</span>(<span class="at">X =</span> dfdensi, <span class="at">MARGIN =</span> <span class="dv">2</span>, <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">var</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb3-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-2" tabindex="-1"></a>df_var <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">variable =</span> <span class="fu">names</span>(dfdensi), <span class="at">varianza =</span> var) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-3" tabindex="-1"></a>  <span class="fu">filter</span>(varianza <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-4" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">30</span>, varianza) <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-5" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(varianza))  </span>
<span id="cb3-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-7" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_var, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(variable, <span class="sc">-</span>varianza), <span class="at">y =</span> varianza)) <span class="sc">+</span></span>
<span id="cb3-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-8" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb3-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb3-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Variables&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Varianza&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb3-12" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-6-2.png" alt="Variància densitometria" width="672" />
<p class="caption">
Figure 6.2: Variància densitometria
</p>
</div>
<p>Si no estandaritzem les variables en el PCA aquesta dominararia les components principals.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb4-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb4-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb4-2" tabindex="-1"></a>pcaeco <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(dfeco, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb4-3" tabindex="-1"></a>pcaeco<span class="sc">$</span>sdev</span></code></pre></div>
<pre><code> [1] 2.86263150 1.67606478 1.30513094 1.12629541 1.06644723 0.96826824
 [7] 0.93259273 0.85390856 0.82518195 0.76355910 0.60522472 0.54123014
[13] 0.39354179 0.35320612 0.29984706 0.15466207 0.11481953 0.09966719
[19] 0.07428567 0.07231165</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb6-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb6-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb6-2" tabindex="-1"></a>pcadensi <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(dfdensi, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>La funció prcomp no et dona els valors propis però sí la desviació estàndard. Els valors propis s’obtenen amb el procés del PCA i representen la quantitat de variància explicada per la component principal. La desviació estàndard d’una component principal s’aconseguirà doncs agafant l’arrel quadrada del valor propi corresponent.
Per tant, com és d’esperar la primera variància, relacionada amb el primer valor propi, és la major, amb 2.4, seguida de la segona, per 1.84.</p>
<p>Si representem gràficament la variància explicada per cada component principal obtindrem:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-1" tabindex="-1"></a>prop_varianza <span class="ot">&lt;-</span> pcaeco<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pcaeco<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb7-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-2" tabindex="-1"></a>prop_varianza_acum <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(prop_varianza)</span>
<span id="cb7-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">data.frame</span>(prop_varianza_acum, <span class="at">pc =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb7-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-5" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> pc, <span class="at">y =</span> prop_varianza_acum, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-6" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-7" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb7-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-8" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(prop_varianza_acum,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb7-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb7-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Componente principal&quot;</span>,</span>
<span id="cb7-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb7-11" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Prop. variància explicada acumulada&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-8-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-8-1.png" alt="Variables-Variància PCA ecocardiograma" width="672" />
<p class="caption">
Figure 6.3: Variables-Variància PCA ecocardiograma
</p>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-1" tabindex="-1"></a>prop_varianza <span class="ot">&lt;-</span> pcadensi<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(pcadensi<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb8-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-2" tabindex="-1"></a>prop_varianza_acum <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(prop_varianza)</span>
<span id="cb8-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">data.frame</span>(prop_varianza_acum, <span class="at">pc =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">106</span>),</span>
<span id="cb8-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-5" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> pc, <span class="at">y =</span> prop_varianza_acum, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-6" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-7" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb8-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-8" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(prop_varianza_acum,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb8-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb8-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Componente principal&quot;</span>,</span>
<span id="cb8-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb8-11" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Prop. variància explicada acumulada&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-8-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-8-2.png" alt="Variables-Variància PCA densitometria" width="672" />
<p class="caption">
Figure 6.4: Variables-Variància PCA densitometria
</p>
</div>
<p>En el cas de ecocardiogrma, la primera component explica el 26.44% de la variància observada en les dades, la primer i segona 0.42…</p>
<p>Si volguéssim saber com es construeixen les components principals a partir de les nostres variables:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb9-1" tabindex="-1"></a><span class="fu">head</span>(pcaeco<span class="sc">$</span>rotation)</span></code></pre></div>
<pre><code>                         PC1         PC2         PC3         PC4         PC5
Edat               0.2559691 0.093611808  0.10420968  0.48531669  0.03477958
Talla              0.3212653 0.002055148  0.01890798 -0.11238410 -0.01802168
Pes                0.3287263 0.024412401  0.03972554 -0.02837493 -0.10201201
Diam_ven_esq_diast 0.2811542 0.135297473  0.25607137 -0.18033519  0.04678099
Diam_ven_esq_sist  0.2492498 0.154605858  0.30643165 -0.23872513  0.07212454
Gruix_tabic        0.2431310 0.268007482 -0.33202631 -0.03472650 -0.11618975
                            PC6         PC7         PC8         PC9        PC10
Edat               -0.140445449 -0.09919093 -0.05683210  0.10950310 -0.02404590
Talla               0.033896823  0.02295581 -0.05617487 -0.02794168  0.16172320
Pes                 0.007559074  0.03976783 -0.04437575 -0.04125571  0.07977380
Diam_ven_esq_diast -0.100320743  0.10933725 -0.15012643 -0.02721034 -0.02817060
Diam_ven_esq_sist  -0.162158690  0.16022577 -0.31161431  0.10664437 -0.05734161
Gruix_tabic         0.055850636  0.01910380 -0.12662603  0.06300039  0.02597822
                           PC11        PC12        PC13         PC14
Edat               -0.007958460  0.05786316  0.28193660  0.741471384
Talla               0.006420989  0.21301036  0.66976904 -0.296595194
Pes                -0.010169455  0.13460940  0.31349247 -0.216210904
Diam_ven_esq_diast -0.054903106  0.53649253 -0.34666080  0.044239191
Diam_ven_esq_sist   0.012308062 -0.42368772 -0.05071271  0.005692719
Gruix_tabic        -0.461691221 -0.08309081 -0.17065404  0.014448515
                            PC15         PC16          PC17         PC18
Edat                0.0001436155  0.006124101 -0.0009113911  0.005121172
Talla               0.5135541911  0.066860187  0.0150082777 -0.026566992
Pes                -0.8377258990 -0.023264584 -0.0340845341 -0.009743492
Diam_ven_esq_diast  0.0868956876 -0.238402103 -0.0595679476  0.243493650
Diam_ven_esq_sist   0.0595340355 -0.332921156 -0.2308038272  0.142742727
Gruix_tabic         0.0300301449  0.448616305 -0.1373140472  0.079095026
                           PC19         PC20
Edat                0.002642538 -0.001079298
Talla               0.020967318  0.012343749
Pes                 0.005783694  0.003972560
Diam_ven_esq_diast -0.457326898  0.083265161
Diam_ven_esq_sist   0.472545117 -0.023552455
Gruix_tabic         0.082287517  0.486327353</code></pre>
<p>Per tant, podem interpretar que la primera component principal PC1 es el resultat de la combinació lineal de les variables originals:</p>
<p>PC1= -0.31448575Edat - 0.29827822Pes - 0.04573525Talla …</p>
<div id="representació-gràfica-pca" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Representació gràfica PCA<a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#representació-gràfica-pca" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Les observacions es mostren com a punts en l’espai dels components principals, i la seva posició reflecteix la informació que comparteixen amb cada component.
Les variables es mostren com a fletxes que apunten en la direcció de major correlació amb un component principal, i la longitud de la fletxa indica la força de la correlació.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-1" tabindex="-1"></a>biploteco <span class="ot">&lt;-</span> <span class="fu">fviz_pca_biplot</span>(</span>
<span id="cb11-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-2" tabindex="-1"></a>  pcaeco,</span>
<span id="cb11-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-3" tabindex="-1"></a>  <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb11-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-4" tabindex="-1"></a>  <span class="at">geom =</span> <span class="fu">c</span>(<span class="st">&quot;point&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb11-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-5" tabindex="-1"></a>  <span class="at">geom.ind =</span> <span class="fu">c</span>(<span class="st">&quot;point&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb11-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-6" tabindex="-1"></a>  <span class="at">geom.var =</span> <span class="fu">c</span>(<span class="st">&quot;arrow&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb11-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-7" tabindex="-1"></a>  <span class="at">col.ind =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb11-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-8" tabindex="-1"></a>  <span class="at">fill.ind =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb11-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-9" tabindex="-1"></a>  <span class="at">alpha=</span> <span class="fl">0.5</span>,</span>
<span id="cb11-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-10" tabindex="-1"></a>  <span class="at">col.var =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb11-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-11" tabindex="-1"></a>  <span class="at">fill.var =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb11-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-12" tabindex="-1"></a>  <span class="at">gradient.cols =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-13"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-13" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">&quot;ind&quot;</span>,</span>
<span id="cb11-14"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-14" tabindex="-1"></a>  <span class="at">invisible =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb11-15"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-15" tabindex="-1"></a>  <span class="at">repel =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-16"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-16" tabindex="-1"></a>  <span class="at">habillage =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb11-17"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-17" tabindex="-1"></a>  <span class="at">palette =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-18"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-18" tabindex="-1"></a>  <span class="at">addEllipses =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-19"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-19" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;PCA - Biplot&quot;</span></span>
<span id="cb11-20"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-20" tabindex="-1"></a>)</span>
<span id="cb11-21"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb11-21" tabindex="-1"></a>biploteco</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-10-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-10-1.png" alt="PCA-Biplot ecocardiogrma" width="672" />
<p class="caption">
Figure 6.5: PCA-Biplot ecocardiogrma
</p>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-1" tabindex="-1"></a>biplotdensi <span class="ot">&lt;-</span> <span class="fu">fviz_pca_biplot</span>(</span>
<span id="cb12-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-2" tabindex="-1"></a>  pcadensi,</span>
<span id="cb12-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-3" tabindex="-1"></a>  <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb12-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-4" tabindex="-1"></a>  <span class="at">geom =</span> <span class="fu">c</span>(<span class="st">&quot;point&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb12-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-5" tabindex="-1"></a>  <span class="at">geom.ind =</span> <span class="fu">c</span>(<span class="st">&quot;point&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb12-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-6" tabindex="-1"></a>  <span class="at">geom.var =</span> <span class="fu">c</span>(<span class="st">&quot;arrow&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb12-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-7" tabindex="-1"></a>  <span class="at">col.ind =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb12-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-8" tabindex="-1"></a>  <span class="at">fill.ind =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb12-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-9" tabindex="-1"></a>  <span class="at">alpha=</span> <span class="fl">0.5</span>,</span>
<span id="cb12-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-10" tabindex="-1"></a>  <span class="at">col.var =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb12-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-11" tabindex="-1"></a>  <span class="at">fill.var =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb12-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-12" tabindex="-1"></a>  <span class="at">gradient.cols =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-13"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-13" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">&quot;ind&quot;</span>,</span>
<span id="cb12-14"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-14" tabindex="-1"></a>  <span class="at">invisible =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb12-15"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-15" tabindex="-1"></a>  <span class="at">repel =</span> <span class="cn">FALSE</span>,</span>
<span id="cb12-16"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-16" tabindex="-1"></a>  <span class="at">habillage =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb12-17"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-17" tabindex="-1"></a>  <span class="at">palette =</span> <span class="cn">NULL</span>,</span>
<span id="cb12-18"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-18" tabindex="-1"></a>  <span class="at">addEllipses =</span> <span class="cn">FALSE</span>,</span>
<span id="cb12-19"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-19" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;PCA - Biplot&quot;</span></span>
<span id="cb12-20"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-20" tabindex="-1"></a>)</span>
<span id="cb12-21"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb12-21" tabindex="-1"></a>biplotdensi</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-10-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-10-2.png" alt="PCA-Biplot densitometria" width="672" />
<p class="caption">
Figure 6.6: PCA-Biplot densitometria
</p>
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-1" tabindex="-1"></a><span class="co">#Variables - Loadings</span></span>
<span id="cb13-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-2" tabindex="-1"></a>pca_plot_var_eco <span class="ot">&lt;-</span> <span class="fu">fviz_pca_var</span>(pcaeco, <span class="at">col.var =</span> <span class="st">&quot;cos2&quot;</span>, </span>
<span id="cb13-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-3" tabindex="-1"></a>             <span class="at">labelsize =</span> <span class="dv">3</span>, </span>
<span id="cb13-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-4" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-5" tabindex="-1"></a>             <span class="at">geom =</span> , </span>
<span id="cb13-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-6" tabindex="-1"></a>            <span class="at">geom.var =</span> <span class="fu">c</span>(<span class="st">&quot;arrow&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb13-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-7" tabindex="-1"></a>            <span class="at">label =</span> <span class="st">&quot;var&quot;</span>)</span>
<span id="cb13-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb13-8" tabindex="-1"></a>pca_plot_var_eco</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-11"></span>
<img src="_main_files/figure-html/unnamed-chunk-11-1.png" alt="Variables PCA eco" width="672" />
<p class="caption">
Figure 6.7: Variables PCA eco
</p>
</div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-1" tabindex="-1"></a>pca_plot_var_eco <span class="ot">&lt;-</span> <span class="fu">fviz_pca_var</span>(pcadensi, <span class="at">col.var =</span> <span class="st">&quot;cos2&quot;</span>, </span>
<span id="cb14-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-2" tabindex="-1"></a>             <span class="at">labelsize =</span> <span class="dv">2</span>, </span>
<span id="cb14-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-3" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-4" tabindex="-1"></a>             <span class="at">geom =</span> , </span>
<span id="cb14-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-5" tabindex="-1"></a>            <span class="at">geom.var =</span> <span class="fu">c</span>(<span class="st">&quot;arrow&quot;</span>, <span class="st">&quot;text&quot;</span>),</span>
<span id="cb14-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-6" tabindex="-1"></a>            <span class="at">label =</span> <span class="st">&quot;var&quot;</span>)</span>
<span id="cb14-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb14-7" tabindex="-1"></a>pca_plot_var_eco</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-12"></span>
<img src="_main_files/figure-html/unnamed-chunk-12-1.png" alt="Variables PCA densi" width="672" />
<p class="caption">
Figure 6.8: Variables PCA densi
</p>
</div>
<p>Interpretació gràfica:</p>
<p>Per interpretar una variable (vector) ens fixem en dues coses: l’angle i la longitud. L’angle respecte dels eixos ens indicarà la contribució en crear la component principal; paral·lels indica major contribució. En canvi, l’Angle respecte a una altra variable ens indica la correlació d’aquestes (angles petits indica alta correlació, angles rectes absència i angles grans correlació negativa).</p>
<p>Dues variables es consideren positivament (negativament) correlacionades quan es mouen en la mateixa (oposada) direcció. És a dir, si una variable augmenta, l’altra també tendeixa augmentar (disminuir).</p>
<p>En el gràfic PCA, els variables positivament (negativament) correlacionades s’agrupen juntes o es troben pròximes (costats oposats de l’origen).</p>
<p>La distància entre els variables i l’origen indica la força de la correlació positiva (negativa). Com més pròximes estiguin els variables al cercle de correlació, major serà la força de la correlació positiva (negativa).</p>
<p>La longitud del vector ens indicarà la variabilitat de la variable. És a dir, la informació de la variable que està capturada per les components principals.</p>
<p>Si una variable és perfectament representable pels dos primers components principals la suma de cos^2 sobre aquests dos serà igual a 1. Per tant, les variables posicionades prop de l’origen indiquen que es necessiten més de dos components principals per a la seva representació adequada (ja que estaran mal representades pels components principals).</p>
<p>Exemples de com es representen les observacions (id) sobre les dues primeres components principals.</p>
<p>Exemples de com es representen les observacions (id) sobre les dues primeres components principals.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-1" tabindex="-1"></a><span class="co">#dubte, per fer aquests pca hauriem d&#39;utilizar Sexe, Seccio i Edat si son el que volem veure? </span></span>
<span id="cb15-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-3" tabindex="-1"></a><span class="co">#Observacions - Scores</span></span>
<span id="cb15-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-4" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb15-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-5" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Sexe, </span>
<span id="cb15-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-6" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb15-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-7" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb15-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-8" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe eco&quot;</span></span>
<span id="cb15-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-9" tabindex="-1"></a>             ) </span>
<span id="cb15-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-10" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Sexe <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Sexe)</span>
<span id="cb15-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-11" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col.)</span>
<span id="cb15-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb15-12" tabindex="-1"></a>p1</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-13-1.png" alt="Individus PCA Sexe eco" width="672" />
<p class="caption">
Figure 6.9: Individus PCA Sexe eco
</p>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-1" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb16-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Seccio, </span>
<span id="cb16-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb16-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb16-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Secció eco&quot;</span></span>
<span id="cb16-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-6" tabindex="-1"></a>             ) </span>
<span id="cb16-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-7" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Seccio)</span>
<span id="cb16-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-8" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb16-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb16-9" tabindex="-1"></a>p2</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-13-2.png" alt="Individus PCA Seccio eco" width="672" />
<p class="caption">
Figure 6.10: Individus PCA Seccio eco
</p>
</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-1" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb17-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Tercil_Edat, </span>
<span id="cb17-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb17-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb17-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Edat eco&quot;</span></span>
<span id="cb17-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-6" tabindex="-1"></a>             ) </span>
<span id="cb17-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-7" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb17-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-8" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Tercil_Edat)</span>
<span id="cb17-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb17-9" tabindex="-1"></a>p3</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13-3"></span>
<img src="_main_files/figure-html/unnamed-chunk-13-3.png" alt="Individus PCA Edat eco" width="672" />
<p class="caption">
Figure 6.11: Individus PCA Edat eco
</p>
</div>
<p>Exemples de com es representen les observacions (id) sobre les dues primeres components principals.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-1" tabindex="-1"></a><span class="co">#dubte, per fer aquests pca hauriem d&#39;utilizar Sexe, Seccio i Edat si son el que volem veure? </span></span>
<span id="cb18-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-3" tabindex="-1"></a><span class="co">#Observacions - Scores</span></span>
<span id="cb18-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-4" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb18-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-5" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Sexe, </span>
<span id="cb18-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-6" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb18-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-7" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb18-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-8" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe densi&quot;</span></span>
<span id="cb18-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-9" tabindex="-1"></a>             ) </span>
<span id="cb18-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-10" tabindex="-1"></a></span>
<span id="cb18-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-11" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Sexe <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Sexe)</span>
<span id="cb18-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-12" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col.)</span>
<span id="cb18-13"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb18-13" tabindex="-1"></a>p1</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-14-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-14-1.png" alt="Individus PCA Sexe densi" width="672" />
<p class="caption">
Figure 6.12: Individus PCA Sexe densi
</p>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-1" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb19-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Seccio, </span>
<span id="cb19-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb19-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb19-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Secció densi&quot;</span></span>
<span id="cb19-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-6" tabindex="-1"></a>             ) </span>
<span id="cb19-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-7" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Seccio)</span>
<span id="cb19-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-8" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb19-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb19-9" tabindex="-1"></a>p2</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-14-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-14-2.png" alt="Individus PCA Seccio densi" width="672" />
<p class="caption">
Figure 6.13: Individus PCA Seccio densi
</p>
</div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-1" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb20-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Tercil_Edat, </span>
<span id="cb20-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb20-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb20-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Edat densi&quot;</span></span>
<span id="cb20-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-6" tabindex="-1"></a>             ) </span>
<span id="cb20-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-7" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb20-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-8" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Tercil_Edat)</span>
<span id="cb20-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb20-9" tabindex="-1"></a>p3</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-14-3"></span>
<img src="_main_files/figure-html/unnamed-chunk-14-3.png" alt="Individus PCA Edat densi" width="672" />
<p class="caption">
Figure 6.14: Individus PCA Edat densi
</p>
</div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-1" tabindex="-1"></a><span class="co">#Observacions - Scores</span></span>
<span id="cb21-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-2" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb21-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-3" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Sexe, </span>
<span id="cb21-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-4" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb21-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-5" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb21-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-6" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe-Edat eco&quot;</span></span>
<span id="cb21-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-7" tabindex="-1"></a>             ) </span>
<span id="cb21-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-9" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Sexe <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Sexe)</span>
<span id="cb21-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-10" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb21-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-11" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Tercil_Edat)</span>
<span id="cb21-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb21-12" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">shape =</span> <span class="st">&#39;Edat&#39;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-15-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-15-1.png" alt="Individus PCA Sexe- Edat eco" width="672" />
<p class="caption">
Figure 6.15: Individus PCA Sexe- Edat eco
</p>
</div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-1" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb22-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Sexe, </span>
<span id="cb22-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb22-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb22-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe-Seccio eco&quot;</span></span>
<span id="cb22-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-6" tabindex="-1"></a>             ) </span>
<span id="cb22-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-7" tabindex="-1"></a></span>
<span id="cb22-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-8" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Seccio)</span>
<span id="cb22-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-9" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb22-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb22-10" tabindex="-1"></a>p2 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">shape =</span> <span class="st">&#39;Seccio&#39;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-15-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-15-2.png" alt="Individus PCA Sexe-Seccio eco" width="672" />
<p class="caption">
Figure 6.16: Individus PCA Sexe-Seccio eco
</p>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-1" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcaeco, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb23-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpreeco<span class="sc">$</span>Tercil_Edat, </span>
<span id="cb23-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb23-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb23-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Edat-Seccio eco&quot;</span></span>
<span id="cb23-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-6" tabindex="-1"></a>             ) </span>
<span id="cb23-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-7" tabindex="-1"></a></span>
<span id="cb23-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-8" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Seccio)</span>
<span id="cb23-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-9" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpreeco<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb23-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-10" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb23-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb23-11" tabindex="-1"></a>p3</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-15-3"></span>
<img src="_main_files/figure-html/unnamed-chunk-15-3.png" alt="Individus PCA Edat eco" width="672" />
<p class="caption">
Figure 6.17: Individus PCA Edat eco
</p>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-1" tabindex="-1"></a><span class="co">#Observacions - Scores</span></span>
<span id="cb24-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-2" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb24-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-3" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Sexe, </span>
<span id="cb24-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-4" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb24-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-5" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb24-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-6" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe-Edat densi&quot;</span></span>
<span id="cb24-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-7" tabindex="-1"></a>             ) </span>
<span id="cb24-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-8" tabindex="-1"></a></span>
<span id="cb24-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-9" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Sexe <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Sexe)</span>
<span id="cb24-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-10" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb24-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-11" tabindex="-1"></a>p1<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Tercil_Edat)</span>
<span id="cb24-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb24-12" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">shape =</span> <span class="st">&#39;Edat&#39;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-16-1"></span>
<img src="_main_files/figure-html/unnamed-chunk-16-1.png" alt="Individus PCA Sexe- Edat densi" width="672" />
<p class="caption">
Figure 6.18: Individus PCA Sexe- Edat densi
</p>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-1" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb25-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Sexe, </span>
<span id="cb25-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb25-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb25-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Sexe-Seccio densi&quot;</span></span>
<span id="cb25-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-6" tabindex="-1"></a>             ) </span>
<span id="cb25-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-7" tabindex="-1"></a></span>
<span id="cb25-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-8" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Seccio)</span>
<span id="cb25-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-9" tabindex="-1"></a>p2<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb25-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb25-10" tabindex="-1"></a>p2 <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">shape =</span> <span class="st">&#39;Seccio&#39;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-16-2"></span>
<img src="_main_files/figure-html/unnamed-chunk-16-2.png" alt="Individus PCA Sexe-Seccio densi" width="672" />
<p class="caption">
Figure 6.19: Individus PCA Sexe-Seccio densi
</p>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-1" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">fviz_pca_ind</span>(pcadensi, <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb26-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-2" tabindex="-1"></a>             <span class="at">col.ind =</span> dfpredensi<span class="sc">$</span>Tercil_Edat, </span>
<span id="cb26-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-3" tabindex="-1"></a>             <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb26-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-4" tabindex="-1"></a>             <span class="at">pointsize =</span> <span class="fl">1.5</span>,</span>
<span id="cb26-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-5" tabindex="-1"></a>             <span class="at">title =</span> <span class="st">&quot;Individus PCA Edat-Seccio densi&quot;</span></span>
<span id="cb26-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-6" tabindex="-1"></a>             ) </span>
<span id="cb26-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-7" tabindex="-1"></a></span>
<span id="cb26-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-8" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Seccio <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Seccio)</span>
<span id="cb26-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-9" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>data<span class="sc">$</span>Tercil_Edat <span class="ot">&lt;-</span> <span class="fu">factor</span>(dfpredensi<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb26-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-10" tabindex="-1"></a>p3<span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping <span class="ot">&lt;-</span> <span class="fu">aes</span>(x, y, <span class="at">colour =</span> Col., <span class="at">shape =</span> Seccio)</span>
<span id="cb26-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb26-11" tabindex="-1"></a>p3</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-16-3"></span>
<img src="_main_files/figure-html/unnamed-chunk-16-3.png" alt="Individus PCA Edat densi" width="672" />
<p class="caption">
Figure 6.20: Individus PCA Edat densi
</p>
</div>
<p>Una altra opció seria utilitzar la llibreria made4. La funció ord, ens facilita la representació gràfica del PCA.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-1" tabindex="-1"></a>pca2 <span class="ot">&lt;-</span> made4<span class="sc">::</span><span class="fu">ord</span>(dfeco, <span class="at">type=</span><span class="st">&quot;pca&quot;</span>)</span>
<span id="cb27-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-2" tabindex="-1"></a><span class="fu">plot</span>(pca2, <span class="at">genecol=</span>dfpreeco<span class="sc">$</span>Sexe, <span class="at">genelabels=</span>dfpreeco<span class="sc">$</span>Id, <span class="at">boxes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb27-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-4" tabindex="-1"></a></span>
<span id="cb27-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-5" tabindex="-1"></a>pca2 <span class="ot">&lt;-</span> made4<span class="sc">::</span><span class="fu">ord</span>(dfeco, <span class="at">type=</span><span class="st">&quot;pca&quot;</span>)</span>
<span id="cb27-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb27-6" tabindex="-1"></a><span class="fu">plotgenes</span>(pca2, <span class="at">n =</span><span class="dv">5</span>, <span class="at">genelabels=</span>dfpreeco<span class="sc">$</span>Id, <span class="at">boxes=</span><span class="cn">FALSE</span>, <span class="at">colpoints=</span>dfpreeco<span class="sc">$</span>Sexe)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-1" tabindex="-1"></a><span class="fu">plotgenes</span>(pca2, <span class="at">n =</span><span class="dv">5</span>, <span class="at">genelabels=</span>dfpreeco<span class="sc">$</span>Sexe, <span class="at">boxes=</span><span class="cn">FALSE</span>, <span class="at">colpoints=</span>dfpreeco<span class="sc">$</span>Sexe)</span>
<span id="cb28-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-2" tabindex="-1"></a><span class="fu">plotgenes</span>(pca2, <span class="at">n =</span><span class="dv">5</span>, <span class="at">boxes=</span><span class="cn">FALSE</span>, <span class="at">colpoints=</span>dfpreeco<span class="sc">$</span>Sexe)</span>
<span id="cb28-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-4" tabindex="-1"></a><span class="co">#plotgenes(pca2, n =5, genelabels=dfpreeco$Seccio, boxes=FALSE, colpoints=dfpreeco$Seccio)</span></span>
<span id="cb28-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-5" tabindex="-1"></a><span class="co">#plotgenes(pca2, n =5, boxes=FALSE, colpoints=dfpreeco$Seccio)</span></span>
<span id="cb28-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-6" tabindex="-1"></a></span>
<span id="cb28-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-7" tabindex="-1"></a></span>
<span id="cb28-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-8" tabindex="-1"></a><span class="fu">plotgenes</span>(pca2, <span class="at">n =</span><span class="dv">5</span>, <span class="at">genelabels=</span>dfpreeco<span class="sc">$</span>Tercil_Edat, <span class="at">boxes=</span><span class="cn">FALSE</span>, <span class="at">colpoints=</span>dfpreeco<span class="sc">$</span>Tercil_Edat)</span>
<span id="cb28-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb28-9" tabindex="-1"></a><span class="fu">plotgenes</span>(pca2, <span class="at">n =</span><span class="dv">5</span>, <span class="at">boxes=</span><span class="cn">FALSE</span>, <span class="at">colpoints=</span>dfpreeco<span class="sc">$</span>Tercil_Edat)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb29-1" tabindex="-1"></a><span class="fu">rotate3d</span>(pca2<span class="sc">$</span>ord<span class="sc">$</span>co, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>, <span class="at">z =</span> <span class="dv">3</span>, <span class="at">beg =</span> <span class="dv">45</span>, <span class="at">end =</span> <span class="dv">360</span>, <span class="at">step =</span> <span class="dv">90</span>, <span class="at">classvec =</span> <span class="cn">NULL</span>, <span class="at">classcol =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-3.png" width="672" /></p>
</div>
</div>
<div id="anàlisis-de-correlació-canònica" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Anàlisis de correlació canònica<a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#anàlisis-de-correlació-canònica" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>És útil quan estem interessats a saber quantes variables canòniques són necessàries per comprendre l’associació entre dos conjunts de variables, en aquest cas seran les bases de dades d’ecocardiogrames i densitometries.</p>
<p>Notem que haurien de tenir el mateix nombre de files per poder comparar variables dels dos conjunts, però són dades observades en moments i persones diferents generalment.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-1" tabindex="-1"></a>dfpreeco<span class="sc">$</span>Mes <span class="ot">&lt;-</span> <span class="fu">month</span>(dfpreeco<span class="sc">$</span>Data_eco)</span>
<span id="cb30-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-2" tabindex="-1"></a>dfpredensi<span class="sc">$</span>Mes <span class="ot">&lt;-</span> <span class="fu">month</span>(dfpredensi<span class="sc">$</span>Data_densi)</span>
<span id="cb30-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-3" tabindex="-1"></a></span>
<span id="cb30-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-4" tabindex="-1"></a>df_agrupadoeco <span class="ot">&lt;-</span> dfpreeco <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-5" tabindex="-1"></a>  <span class="fu">group_by</span>(Id, Any) <span class="sc">%&gt;%</span>  </span>
<span id="cb30-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-6" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb30-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-7" tabindex="-1"></a>  <span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-8" tabindex="-1"></a>  <span class="fu">left_join</span>(dfpreeco, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;Id&quot;</span>, <span class="st">&quot;Any&quot;</span>)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span>
<span id="cb30-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-9" tabindex="-1"></a></span>
<span id="cb30-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb30-10" tabindex="-1"></a><span class="fu">nrow</span>(df_agrupadoeco) <span class="co"># nº de files amb proves repetides per any</span></span></code></pre></div>
<pre><code>[1] 158</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb32-1" tabindex="-1"></a><span class="fu">nrow</span>(df_agrupadoeco <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id)) <span class="co"># nº de persones amb proves repetides per any</span></span></code></pre></div>
<pre><code>[1] 77</code></pre>
<p>En el datagrama d’ecocardiograma trobem que per cada persona i any normalment s’ha fet una sola prova, excepció de 77 individus, que n’han fet dos, que representen unes 158 files de les 6072 totals.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-1" tabindex="-1"></a>df_agrupadodensi <span class="ot">&lt;-</span> dfpredensi <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Id, Any) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-3" tabindex="-1"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb34-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-4" tabindex="-1"></a>  <span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-5" tabindex="-1"></a>  <span class="fu">left_join</span>(dfpredensi, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;Id&quot;</span>, <span class="st">&quot;Any&quot;</span>))  <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> <span class="fu">ungroup</span>()</span>
<span id="cb34-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-6" tabindex="-1"></a></span>
<span id="cb34-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb34-7" tabindex="-1"></a><span class="fu">nrow</span>(df_agrupadodensi)<span class="co"># nº de files amb proves repetides per any</span></span></code></pre></div>
<pre><code>[1] 4354</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb36-1" tabindex="-1"></a><span class="fu">nrow</span>( df_agrupadodensi <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id)) <span class="co"># nº de persones amb proves repetides per any</span></span></code></pre></div>
<pre><code>[1] 696</code></pre>
<p>Mentre que en el datagrama de densitometria normalment s’ha fet més d’una prova cada any; un total de 706 individus s’han fet més d’una, això representa 4395 files dels 6047 totals.</p>
<p>Per tant, si per un ACC hem de tenir les mateixes files, perdríem una gran quantitat de dades.</p>
<p>Dels 77 individus amb més d’1 prova de ecocardiograma repetida cada any comprovem si podem diferenciarlos pel mes.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-1" tabindex="-1"></a>joindf1 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(df_agrupadoeco, </span>
<span id="cb38-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-2" tabindex="-1"></a>                      df_agrupadodensi <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Tercil_Edat, <span class="sc">-</span>Edat), </span>
<span id="cb38-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-3" tabindex="-1"></a>                      <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;Id&quot;</span>, <span class="st">&quot;Any&quot;</span>, <span class="st">&quot;Mes&quot;</span>, <span class="st">&quot;Sexe&quot;</span>, <span class="st">&quot;Seccio&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Mes, <span class="sc">-</span>Prova.x, <span class="sc">-</span>Prova.y) </span>
<span id="cb38-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb38-6" tabindex="-1"></a><span class="fu">nrow</span>(joindf1) <span class="co"># nº de files amb proves repetides per any que coincideix el mes entre els dos dataframes.</span></span></code></pre></div>
<pre><code>[1] 37</code></pre>
<p>Per tant per fer l’anàlisis de correlació canònica, d’aquestes 158 observacions del dataframe de ecocardiograma i 4395 del dataframe densitometriques en podem conservar 37.Juntament amb els individus sense proves repetides.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-1" tabindex="-1"></a>joindf2 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(dfpreeco <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id, Any, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>), </span>
<span id="cb40-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-2" tabindex="-1"></a>                      dfpredensi <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(Id, Any, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) , </span>
<span id="cb40-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-3" tabindex="-1"></a>                     <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;Id&quot;</span>, <span class="st">&quot;Any&quot;</span>, <span class="st">&quot;Sexe&quot;</span>, <span class="st">&quot;Seccio&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-4" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb40-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-5" tabindex="-1"></a>    <span class="at">Tercil_Edat =</span> Tercil_Edat.x,</span>
<span id="cb40-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-6" tabindex="-1"></a>    <span class="at">Edat =</span> Edat.x) <span class="sc">%&gt;%</span>  </span>
<span id="cb40-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-7" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>( <span class="sc">-</span>Mes.x, <span class="sc">-</span>Mes.y, </span>
<span id="cb40-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-8" tabindex="-1"></a>          <span class="sc">-</span>Tercil_Edat.y, <span class="sc">-</span>Tercil_Edat.x, </span>
<span id="cb40-9"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-9" tabindex="-1"></a>          <span class="sc">-</span>Edat.y, <span class="sc">-</span>Edat.x, </span>
<span id="cb40-10"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-10" tabindex="-1"></a>          <span class="sc">-</span>Prova.x, <span class="sc">-</span>Prova.y) </span>
<span id="cb40-11"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-11" tabindex="-1"></a></span>
<span id="cb40-12"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb40-12" tabindex="-1"></a>joindf <span class="ot">&lt;-</span> <span class="fu">rbind</span>(joindf1, joindf2) </span></code></pre></div>
<p>Ara podrem aplicar CCA en aquesta nova base de dades, que tindrà les mateixes dimensions tant per les variables provinents d’ecocardiograma com amb les provinents de densitometries.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb41-1" tabindex="-1"></a>coldensi <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">names</span>(joindf), <span class="fu">names</span>(dfpredensi)) <span class="co">#faltaran mes i prova</span></span>
<span id="cb41-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb41-2" tabindex="-1"></a>coleco <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">names</span>(joindf), <span class="fu">names</span>(dfpreeco)) <span class="co">#faltaran mes i prova</span></span>
<span id="cb41-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb41-3" tabindex="-1"></a></span>
<span id="cb41-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb41-4" tabindex="-1"></a><span class="fu">length</span>(coldensi) </span></code></pre></div>
<pre><code>[1] 108</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb43-1" tabindex="-1"></a><span class="fu">length</span>(coleco)</span></code></pre></div>
<pre><code>[1] 23</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-1" tabindex="-1"></a><span class="co">#nomes variables numeriques</span></span>
<span id="cb45-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-2" tabindex="-1"></a>ccaeco <span class="ot">&lt;-</span> joindf[, coleco] <span class="sc">%&gt;%</span> <span class="fu">mutate</span>( <span class="at">Seccio =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(Seccio)), <span class="at">Sexe =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(Sexe))) <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-3" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select_if</span>(is.numeric)</span>
<span id="cb45-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-4" tabindex="-1"></a>ccadensi <span class="ot">&lt;-</span> joindf[, coldensi] <span class="sc">%&gt;%</span> <span class="fu">mutate</span>( <span class="at">Seccio =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(Seccio)), <span class="at">Sexe =</span> <span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(Sexe))) <span class="sc">%&gt;%</span></span>
<span id="cb45-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-5" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select_if</span>(is.numeric)</span>
<span id="cb45-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-6" tabindex="-1"></a></span>
<span id="cb45-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-7" tabindex="-1"></a><span class="co">#matriu de correlació</span></span>
<span id="cb45-8"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb45-8" tabindex="-1"></a>mc <span class="ot">&lt;-</span> <span class="fu">matcor</span>(ccaeco,ccadensi)</span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb46-1" tabindex="-1"></a>cca <span class="ot">&lt;-</span> <span class="fu">cc</span>(ccaeco, ccadensi)</span>
<span id="cb46-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb46-2" tabindex="-1"></a><span class="fu">names</span>(cca)</span></code></pre></div>
<pre><code>[1] &quot;cor&quot;    &quot;names&quot;  &quot;xcoef&quot;  &quot;ycoef&quot;  &quot;scores&quot;</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-1" tabindex="-1"></a>rho  <span class="ot">&lt;-</span>  cca<span class="sc">$</span>cor </span>
<span id="cb48-2"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-2" tabindex="-1"></a></span>
<span id="cb48-3"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-3" tabindex="-1"></a>n  <span class="ot">&lt;-</span>  <span class="fu">dim</span>(joindf)[<span class="dv">1</span>] </span>
<span id="cb48-4"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-4" tabindex="-1"></a>p  <span class="ot">&lt;-</span>  <span class="fu">length</span>(ccaeco) </span>
<span id="cb48-5"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-5" tabindex="-1"></a>q  <span class="ot">&lt;-</span>  <span class="fu">length</span>(ccadensi) </span>
<span id="cb48-6"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-6" tabindex="-1"></a></span>
<span id="cb48-7"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb48-7" tabindex="-1"></a><span class="fu">p.asym</span>(rho, n, p, q, <span class="at">tstat =</span><span class="st">&quot;Wilks&quot;</span>)</span></code></pre></div>
<pre><code>Wilks&#39; Lambda, using F-approximation (Rao&#39;s F):
                    stat       approx  df1       df2      p.value
1 to 19:    8.962136e-65 3.280888e+04 1995 24613.791 0.000000e+00
2 to 19:   -2.018094e-49          NaN 1872 23360.314          NaN
3 to 19:    4.544343e-34 1.213519e+03 1751 22101.485 0.000000e+00
4 to 19:    2.046590e-18 1.550894e+02 1632 20837.355 0.000000e+00
5 to 19:    9.217022e-03 4.796465e+00 1515 19567.987 0.000000e+00
6 to 19:    1.485412e-01 1.926083e+00 1400 18293.460 0.000000e+00
7 to 19:    2.501511e-01 1.500027e+00 1287 17013.869 0.000000e+00
8 to 19:    3.026871e-01 1.411217e+00 1176 15729.326 0.000000e+00
9 to 19:    3.625042e-01 1.316214e+00 1067 14439.961 8.551637e-11
10 to 19:   4.197256e-01 1.248622e+00  960 13145.926 5.777647e-07
11 to 19:   4.837214e-01 1.169594e+00  855 11847.395 6.541324e-04
12 to 19:   5.544579e-01 1.076482e+00  752 10544.566 7.915538e-02
13 to 19:   6.201965e-01 1.004850e+00  651  9237.663 4.597679e-01
14 to 19:   6.860813e-01 9.324118e-01  552  7926.940 8.631545e-01
15 to 19:   7.489056e-01 8.663014e-01  455  6612.680 9.788585e-01
16 to 19:   8.085122e-01 8.033412e-01  360  5295.200 9.968476e-01
17 to 19:   8.679717e-01 7.197033e-01  267  3974.848 9.997511e-01
18 to 19:   9.163506e-01 6.727351e-01  176  2652.000 9.996220e-01
19 to 19:   9.605657e-01 6.261786e-01   87  1327.000 9.970110e-01</code></pre>
<p>En general, el nombre de dimensions canòniques és igual al nombre de variables del conjunt més petit; no obstant això, el nombre de dimensions significatives pot ser fins i tot menor. Les dimensions canòniques, també conegudes com a variables canòniques, són variables latents anàlogues als factors obtinguts en l’anàlisi factorial. Amb ajuda de la funció p.asym() de la llibreria CCP, podem realitzar la prova per a definir quantes dimensions canòniques significatives tenim.</p>
<p>Per a aquest exemple apliquem la prova de Wilks, però existeixen una gran varietat de proves, però en la gran majoria d’exemples lliuren la mateixa resposta.
Per exemple, per a aquest model en particular hi ha 18 dimensions canòniques de les quals totes són estadisticamente significatives.
Un valor p de 0.000000e+00 significa que la probabilitat d’observar un resultat tan extrem com l’observat (atès que la hipòtesi nul·la d’igualtat de grups és veritable) és pràcticament zero</p>
<p>Això indica que les variables que componen cada dimensió canònica discriminen bé entre els grups. En altres paraules, les diferències entre els grups es reflecteixen clarament en cadascuna de les dimensions.</p>
<p>Consideracions addicionals:
Encara que totes les dimensions siguin estadísticament significatives, és important comparar la grandària de l’efecte en cadascuna. Les dimensions amb valors p més baixos tindran una grandària de l’efecte major, cosa que significa que les diferències entre els grups són més pronunciades.</p>
<p>Això és perquè en la prova de Wilks, la significança estadística es determina mitjançant el valor p. Es considera que una variable o conjunt de variables és estadísticament significatiu si el valor p és menor que el nivell de significança triat (generalment 0.05).</p>
<p>Amb ajuda de la funció plot.cc(), podem fer la gràfica on es pot explorar la correlació canònica.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="pca-co-inercia-i-anàlisis-de-correlació-canonica.html#cb50-1" tabindex="-1"></a><span class="fu">plt.cc</span>(cca, <span class="at">var.label =</span> <span class="cn">TRUE</span>, <span class="at">d1 =</span> <span class="dv">1</span>, <span class="at">d2 =</span> <span class="dv">2</span>, <span class="at">type =</span> <span class="st">&quot;b&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-25"></span>
<img src="_main_files/figure-html/unnamed-chunk-25-1.png" alt="CCA" width="672" />
<p class="caption">
Figure 6.21: CCA
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualizació-de-dades-longitudinals.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
